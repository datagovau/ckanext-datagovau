{% ckan_extends %}
{% import 'macros/form.html' as form %}

{% block form %}

  <h2 class="form-title mb-3 pt-4 pt-md-0">
    {{ _("Promote dataset") }}
  </h2>

  <p class="fs-1rem fw-500 mb-4">
    {% trans %}
      Promote high-value datasets to boost their visibility in search
      results.  Promoted datasets will rank higher, making them easier for
      users to find.
    {% endtrans %}
  </p>

  <form id="dataset-edit" class="dataset-form" method="post" action="{{ action }}"
        data-module="basic-form">

    {% call form.input_block("promoition_range", _("Promotion level"), errors["promotion_range"], classes=["search-tweaks-label-with-value"]) %}

      <div class="slider-wrapper d-grid mb-4">
        <div class="dga-range-slider">

          <input data-module="dga-range-slider" data-module-reflect="#{{ field_name }}"
                 class="form-range" id="promotion_range" type="range"
                 name="{{ field_name }}" value="{{ data[field_name] or 0 }}"
                 min="{{ min_promotion }}" max="{{ max_promotion }}"/>
          <div class="range-steps">
            {% for step in range(min_promotion, max_promotion + 1, [(max_promotion - min_promotion) / 4, 1]|max|int) %}
              <span>{{ step }}</span>
            {% endfor %}
          </div>
        </div>

        <input id="{{ field_name }}" required name="{{ vield_name }}"
               value="{{ data[field_name] or 0 }}" class="form-control"
               type="number" min="{{ min_promotion }}" max="{{ max_promotion }}">
      </div>

      <div class="info-block ">
        <i class="fa fa-info-circle"></i>
        {{ _("Avoid overusing high promotion levels, as this may diminish the visibility of other valuable datasets.") }}
      </div>

    {% endcall %}

    <div class="form-group control-medium mb-4 dga-promotion-current-field">
      <label class="form-label" for="field-author">{{ _("Current position") }}</label>
      <div class="controls ">
        <input disabled value="{{ data[field_name] }}" class="form-control">
      </div>
    </div>

    {% block form_actions %}
      <div class="form-actions">
        {% block save_button %}
          <button class="btn btn-primary" type="submit"
                  name="save">{{ _("Save") }}</button>
        {% endblock %}
      </div>
    {% endblock %}

  </form>

{% endblock form %}
